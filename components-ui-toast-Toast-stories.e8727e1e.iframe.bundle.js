"use strict";(self.webpackChunkyorkie_ui_poc=self.webpackChunkyorkie_ui_poc||[]).push([[926],{"./src/components/ui/toast/Toast.stories.tsx":(tt,A,u)=>{u.r(A),u.d(A,{ConfiguringToast:()=>Q,CustomRenderedToast:()=>_,Overview:()=>J,__namedExportsOrder:()=>q,default:()=>H});var a=u("./node_modules/next/dist/compiled/react/jsx-runtime.js"),j=u("./node_modules/next/dist/compiled/react/index.js"),g=u("./src/components/ui/index.ts"),b=u("./src/components/ui/icons/index.ts"),x=u("./node_modules/@zag-js/react/dist/index.mjs"),E=u("./node_modules/@zag-js/core/dist/index.mjs"),R=u("./node_modules/@zag-js/store/dist/index.mjs"),y=u("./node_modules/@zag-js/utils/dist/index.mjs"),M=u("./node_modules/@zag-js/anatomy/dist/index.mjs"),C=u("./node_modules/@zag-js/dom-query/dist/index.mjs"),U=u("./node_modules/@zag-js/dom-event/dist/index.mjs"),L=(0,M.createAnatomy)("toast").parts("group","root","title","description","closeTrigger"),S=L.build(),T=(0,C.createScope)({getGroupId:o=>`toast-group:${o}`,getRootId:o=>`toast:${o.id}`,getTitleId:o=>`toast:${o.id}:title`,getDescriptionId:o=>`toast:${o.id}:description`,getCloseTriggerId:o=>`toast${o.id}:close`});function k(o){const n={};for(const e of o){const s=e.state.context.placement;n[s]||(n[s]=[]),n[s].push(e)}return n}var V={info:5e3,error:5e3,success:2e3,loading:1/0,custom:5e3};function P(o,n){return o??V[n]}function $(o,n){const e=o.offsets,s=typeof e=="string"?{left:e,right:e,bottom:e,top:e}:e,r=o.dir==="rtl",c=n.replace("-start",r?"-right":"-left").replace("-end",r?"-left":"-right"),p=c.includes("right"),l=c.includes("left"),m={position:"fixed",pointerEvents:o.count>0?void 0:"none",display:"flex",flexDirection:"column","--toast-gutter":o.gutter,zIndex:o.zIndex};let t="center";if(p&&(t="flex-end"),l&&(t="flex-start"),m.alignItems=t,c.includes("top")){const i=s.top;m.top=`calc(env(safe-area-inset-top, 0px) + ${i})`}if(c.includes("bottom")){const i=s.bottom;m.bottom=`calc(env(safe-area-inset-bottom, 0px) + ${i})`}if(!c.includes("left")){const i=s.right;m.right=`calc(env(safe-area-inset-right, 0px) + ${i})`}if(!c.includes("right")){const i=s.left;m.left=`calc(env(safe-area-inset-left, 0px) + ${i})`}return m}function B(o,n,e){const s=k(o.context.toasts);function r(t){return o.context.toasts.length?!!o.context.toasts.find(i=>i.id==t):!1}function c(t){const i=`toast:${(0,y.uuid)()}`,d=t.id?t.id:i;if(!r(d))return n({type:"ADD_TOAST",toast:{...t,id:d}}),d}function p(t,i){if(r(t))return n({type:"UPDATE_TOAST",id:t,toast:i}),t}function l(t){const{id:i}=t;return(i?r(i):!1)&&i!=null?p(i,t):c(t)}function m(t){t==null?n("DISMISS_ALL"):r(t)&&n({type:"DISMISS_TOAST",id:t})}return{count:o.context.count,toasts:o.context.toasts,toastsByPlacement:s,isVisible:r,create:c,update:p,upsert:l,dismiss:m,remove(t){t==null?n("REMOVE_ALL"):r(t)&&n({type:"REMOVE_TOAST",id:t})},dismissByPlacement(t){const i=s[t];i&&i.forEach(d=>m(d.id))},loading(t){return l({...t,type:"loading"})},success(t){return l({...t,type:"success"})},error(t){return l({...t,type:"error"})},promise(t,i,d={}){const f=l({...d,...i.loading,type:"loading"});return t.then(h=>{const v=(0,y.runIfFn)(i.success,h);l({...d,...v,id:f,type:"success"})}).catch(h=>{const v=(0,y.runIfFn)(i.error,h);l({...d,...v,id:f,type:"error"})}),t},pause(t){t==null?n("PAUSE_ALL"):r(t)&&n({type:"PAUSE_TOAST",id:t})},resume(t){t==null?n("RESUME_ALL"):r(t)&&n({type:"RESUME_TOAST",id:t})},getGroupProps(t){const{placement:i,label:d="Notifications"}=t;return e.element({...S.group.attrs,dir:o.context.dir,tabIndex:-1,"aria-label":`${i} ${d}`,id:T.getGroupId(i),"data-placement":i,"aria-live":"polite",role:"region",style:$(o.context,i)})},subscribe(t){return(0,R.subscribe)(o.context.toasts,()=>t(o.context.toasts))}}}var{not:z,and:N,or:F}=E.guards;function G(o={}){const{type:n="info",duration:e,id:s="toast",placement:r="bottom",removeDelay:c=0,...p}=o,l=(0,y.compact)(p),m=P(e,n);return(0,E.createMachine)({id:s,entry:"invokeOnOpen",initial:n==="loading"?"persist":"active",context:{id:s,type:n,remaining:m,duration:m,removeDelay:c,createdAt:Date.now(),placement:r,...l},on:{UPDATE:[{guard:N("hasTypeChanged","isChangingToLoading"),target:"persist",actions:["setContext","invokeOnUpdate"]},{guard:F("hasDurationChanged","hasTypeChanged"),target:"active:temp",actions:["setContext","invokeOnUpdate"]},{actions:["setContext","invokeOnUpdate"]}]},states:{"active:temp":{tags:["visible","updating"],after:{0:"active"}},persist:{tags:["visible","paused"],activities:"trackDocumentVisibility",on:{RESUME:{guard:z("isLoadingType"),target:"active",actions:["setCreatedAt"]},DISMISS:"dismissing"}},active:{tags:["visible"],activities:"trackDocumentVisibility",after:{VISIBLE_DURATION:"dismissing"},on:{DISMISS:"dismissing",PAUSE:{target:"persist",actions:"setRemainingDuration"}}},dismissing:{entry:"invokeOnClosing",after:{REMOVE_DELAY:{target:"inactive",actions:"notifyParentToRemove"}}},inactive:{entry:"invokeOnClose",type:"final"}}},{activities:{trackDocumentVisibility(t,i,{send:d}){if(!t.pauseOnPageIdle)return;const f=T.getDoc(t);return(0,U.addDomEvent)(f,"visibilitychange",()=>{d(f.visibilityState==="hidden"?"PAUSE":"RESUME")})}},guards:{isChangingToLoading:(t,i)=>i.toast?.type==="loading",isLoadingType:t=>t.type==="loading",hasTypeChanged:(t,i)=>i.toast?.type!==t.type,hasDurationChanged:(t,i)=>i.toast?.duration!==t.duration},delays:{VISIBLE_DURATION:t=>t.remaining,REMOVE_DELAY:t=>t.removeDelay},actions:{setRemainingDuration(t){t.remaining-=Date.now()-t.createdAt},setCreatedAt(t){t.createdAt=Date.now()},notifyParentToRemove(t,i,{self:d}){d.sendParent({type:"REMOVE_TOAST",id:d.id})},invokeOnClosing(t){t.onClosing?.()},invokeOnClose(t){t.onClose?.()},invokeOnOpen(t){t.onOpen?.()},invokeOnUpdate(t){t.onUpdate?.()},setContext(t,i){const{duration:d,type:f}=i.toast,h=P(d,f);Object.assign(t,{...i.toast,duration:h,remaining:h})}}})}function w(o){const n=(0,y.compact)(o);return(0,E.createMachine)({id:"toaster",initial:"active",context:{dir:"ltr",max:Number.MAX_SAFE_INTEGER,toasts:[],gutter:"1rem",zIndex:C.MAX_Z_INDEX,pauseOnPageIdle:!1,pauseOnInteraction:!0,offsets:{left:"0px",right:"0px",top:"0px",bottom:"0px"},...n},computed:{count:e=>e.toasts.length},on:{PAUSE_TOAST:{actions:(e,s,{self:r})=>{r.sendChild("PAUSE",s.id)}},PAUSE_ALL:{actions:e=>{e.toasts.forEach(s=>s.send("PAUSE"))}},RESUME_TOAST:{actions:(e,s,{self:r})=>{r.sendChild("RESUME",s.id)}},RESUME_ALL:{actions:e=>{e.toasts.forEach(s=>s.send("RESUME"))}},ADD_TOAST:{guard:e=>e.toasts.length<e.max,actions:(e,s,{self:r})=>{const c={placement:e.placement,duration:e.duration,removeDelay:e.removeDelay,render:e.render,...s.toast,pauseOnPageIdle:e.pauseOnPageIdle,pauseOnInteraction:e.pauseOnInteraction,dir:e.dir,getRootNode:e.getRootNode},p=G(c),l=r.spawn(p);e.toasts.push(l)}},UPDATE_TOAST:{actions:(e,s,{self:r})=>{r.sendChild({type:"UPDATE",toast:s.toast},s.id)}},DISMISS_TOAST:{actions:(e,s,{self:r})=>{r.sendChild("DISMISS",s.id)}},DISMISS_ALL:{actions:e=>{e.toasts.forEach(s=>s.send("DISMISS"))}},REMOVE_TOAST:{actions:(e,s,{self:r})=>{r.stopChild(s.id);const c=e.toasts.findIndex(p=>p.id===s.id);e.toasts.splice(c,1)}},REMOVE_ALL:{actions:(e,s,{self:r})=>{for(e.toasts.forEach(c=>r.stopChild(c.id));e.toasts.length;)e.toasts.pop()}}}})}function X(o,n,e){const s=o.hasTag("visible"),r=o.hasTag("paused"),c=o.context.pauseOnInteraction,p=o.context.placement;return{type:o.context.type,title:o.context.title,description:o.context.description,placement:p,isVisible:s,isPaused:r,isRtl:o.context.dir==="rtl",pause(){n("PAUSE")},resume(){n("RESUME")},dismiss(){n("DISMISS")},rootProps:e.element({...S.root.attrs,dir:o.context.dir,id:T.getRootId(o.context),"data-state":s?"open":"closed","data-type":o.context.type,"data-placement":p,role:"status","aria-atomic":"true",tabIndex:0,style:{position:"relative",pointerEvents:"auto",margin:"calc(var(--toast-gutter) / 2)","--remove-delay":`${o.context.removeDelay}ms`,"--duration":`${o.context.duration}ms`},onKeyDown(l){l.key=="Escape"&&(n("DISMISS"),l.preventDefault())},onFocus(){c&&n("PAUSE")},onBlur(){c&&n("RESUME")},onPointerEnter(){c&&n("PAUSE")},onPointerLeave(){c&&n("RESUME")}}),titleProps:e.element({...S.title.attrs,id:T.getTitleId(o.context)}),descriptionProps:e.element({...S.description.attrs,id:T.getDescriptionId(o.context)}),closeTriggerProps:e.button({id:T.getCloseTriggerId(o.context),...S.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(){n("DISMISS")}})}}var I={connect:B,machine:w},Y=u("./node_modules/@ark-ui/react/environment/environment-context.mjs"),K=u("./node_modules/@ark-ui/react/toast/toast-context.mjs"),W=u("./node_modules/@ark-ui/react/toast/toast-group.mjs");const D=o=>{const{placement:n,...e}=o,s=I.machine({id:"1",placement:n,...e}).start();let r=I.connect(s.getState(),s.send,x.normalizeProps);const c=l=>s.subscribe(m=>l(m.context.toasts)),p=(0,j.forwardRef)((l,m)=>{const t=(0,Y.useEnvironmentContext)(),[i,d]=(0,x.useActor)(s);r=I.connect(i,d,x.normalizeProps),(0,j.useEffect)(()=>(s.setContext({getRootNode:t}),()=>void s.stop()),[]);const f=(0,E.mergeProps)(r.getGroupProps({placement:n}),l),h=r.toastsByPlacement[n]??[];return(0,a.jsx)(W.ToastGroup,{...f,ref:m,children:h.map(v=>(0,a.jsx)(Z,{service:v},v.id))})});return p.displayName="ToastGroup",[p,Object.assign(r,{subscribe:c})]},Z=o=>{const[n,e]=(0,x.useActor)(o.service),s=X(n,e,x.normalizeProps);return(0,a.jsx)(K.ToastProvider,{value:s,children:n.context.render?.(s)})};var O=u("./src/components/ui/button/Button.tsx");const H={title:"FEEDBACK / Toast",argTypes:{placement:{description:"The placement of the toast."},count:{control:{type:"number"}},dir:{control:{type:"radio"},options:["ltr","rtl"],description:"The documents text/writing direction.",default:"ltr"},duration:{control:{type:"number"},description:"The duration the toast will be visible."},gutter:{control:{type:"text"},description:"The gutter or spacing between toasts."},max:{control:{type:"number"},description:"The maximum number of toasts that can be shown at once."},offsets:{description:'\nThe offset from the safe environment edge of the viewport. `string | Record<"left" | "right" | "top" | "bottom", string>`'},pauseOnInteraction:{control:{type:"boolean"},description:"Whether to pause the toast when interacted with."},pauseOnPageIdle:{control:{type:"boolean"},description:"Whether to pause toast when the user leaves the browser tab."},removeDelay:{control:{type:"number"},description:"The duration for the toast to kept alive before it is removed. Useful for exit transitions."},zIndex:{control:{type:"number"},description:"The z-index applied to each toast group."}}},J=()=>{const[o,n]=D({placement:"top-end",render(e){return(0,a.jsxs)(g.Toast.Root,{children:[(0,a.jsx)(g.Toast.Title,{children:e.title}),(0,a.jsx)(g.Toast.Description,{children:e.description}),(0,a.jsx)(g.Toast.CloseTrigger,{asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(b.CloseIcon,{})})})]})}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.Button,{variant:"outline",onClick:()=>n.create({title:"Title",description:"Description"}),children:"Create Toast"}),(0,a.jsx)(o,{})]})},Q=()=>{const[o,n]=D({placement:"bottom-end",render(e){return(0,a.jsxs)(g.Toast.Root,{children:[(0,a.jsx)(g.Toast.Title,{children:e.title}),(0,a.jsx)(g.Toast.Description,{children:e.description}),(0,a.jsx)(g.Toast.CloseTrigger,{children:"Close"})]})}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.Button,{onClick:()=>n.create({title:"Success",description:"This is a success toast",type:"success",duration:2e4,removeDelay:250}),children:"Toast"}),(0,a.jsx)(o,{})]})},_=()=>{const[o,n]=D({placement:"top-end",render(e){return(0,a.jsxs)(g.Toast.Root,{children:[(0,a.jsx)(g.Toast.Title,{children:e.title}),(0,a.jsx)(g.Toast.Description,{children:e.description}),(0,a.jsx)(g.Toast.CloseTrigger,{children:"Close"})]})}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.Button,{onClick:()=>n.create({title:"Please checkout",render:e=>(0,a.jsxs)("div",{children:[e.title," ",(0,a.jsx)("a",{href:"#",children:"Yorkie UI"})]})}),children:"Toast"}),(0,a.jsx)(o,{})]})},q=["Overview","ConfiguringToast","CustomRenderedToast"]}}]);
